# âš™ï¸ buildozer.spec é…ç½®æ–‡ä»¶è¯´æ˜

è¿™ä¸ªæ–‡ä»¶æ§åˆ¶ä½ çš„ Android APK çš„æ‰€æœ‰é…ç½®ã€‚

---

## ğŸ“ åŸºæœ¬é…ç½®

### åº”ç”¨ä¿¡æ¯

```ini
[app]
# åº”ç”¨æ˜¾ç¤ºåç§°ï¼ˆæ˜¾ç¤ºåœ¨æ‰‹æœºä¸Šçš„åå­—ï¼‰
title = Calculator

# åŒ…åï¼ˆå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä¸èƒ½å’Œå…¶ä»–åº”ç”¨é‡å¤ï¼‰
package.name = calculator

# åŸŸåï¼ˆé€šå¸¸ç”¨ä½ çš„åŸŸåå€’åºï¼‰
package.domain = org.example

# ç‰ˆæœ¬å·
version = 1.0

# ç‰ˆæœ¬ä»£ç ï¼ˆæ¯æ¬¡æ›´æ–°é€’å¢ï¼‰
version.code = 1
```

### æºä»£ç é…ç½®

```ini
# æºä»£ç ç›®å½•
source.dir = .

# åŒ…å«çš„æ–‡ä»¶ç±»å‹
source.include_exts = py,png,jpg,kv,atlas

# æ’é™¤çš„æ–‡ä»¶/ç›®å½•
source.exclude_dirs = tests, bin, .git

# æ’é™¤çš„æ–‡ä»¶æ¨¡å¼
source.exclude_patterns = license,images/*/*.jpg
```

---

## ğŸ“¦ ä¾èµ–é…ç½®

### Python ä¾èµ–

```ini
# å¿…éœ€çš„ Python åŒ…ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰
requirements = python3,kivy

# å¸¸ç”¨ä¾èµ–ç¤ºä¾‹ï¼š
# requirements = python3,kivy,requests,pillow,numpy
```

### æ”¯æŒçš„å¸¸ç”¨åº“

- **kivy** - UI æ¡†æ¶ï¼ˆå¿…éœ€ï¼‰
- **requests** - HTTP è¯·æ±‚
- **pillow** - å›¾åƒå¤„ç†
- **sqlite3** - æ•°æ®åº“ï¼ˆå†…ç½®ï¼‰
- **json** - JSON å¤„ç†ï¼ˆå†…ç½®ï¼‰
- **datetime** - æ—¥æœŸæ—¶é—´ï¼ˆå†…ç½®ï¼‰

---

## ğŸ¨ ç•Œé¢é…ç½®

### åº”ç”¨å›¾æ ‡

```ini
# å›¾æ ‡æ–‡ä»¶è·¯å¾„ï¼ˆå»ºè®® 512x512 PNGï¼‰
icon.filename = %(source.dir)s/icon.png
```

### å¯åŠ¨ç”»é¢

```ini
# å¯åŠ¨ç”»é¢å›¾ç‰‡
presplash.filename = %(source.dir)s/presplash.png
```

### å±å¹•æ–¹å‘

```ini
# å±å¹•æ–¹å‘
# portrait - ç«–å±
# landscape - æ¨ªå±
# sensor - è‡ªåŠ¨æ—‹è½¬
orientation = portrait
```

### å…¨å±æ¨¡å¼

```ini
# æ˜¯å¦å…¨å±
# 0 = æ˜¾ç¤ºçŠ¶æ€æ 
# 1 = å…¨å±
fullscreen = 0
```

---

## ğŸ”§ Android é…ç½®

### API çº§åˆ«

```ini
# Android API çº§åˆ«ï¼ˆç›®æ ‡ç‰ˆæœ¬ï¼‰
android.api = 33

# æœ€ä½æ”¯æŒçš„ API çº§åˆ«
android.minapi = 21

# NDK ç‰ˆæœ¬
android.ndk = 25b
```

### æ¶æ„

```ini
# æ”¯æŒçš„ CPU æ¶æ„
# arm64-v8a - 64ä½ ARMï¼ˆæ¨èï¼‰
# armeabi-v7a - 32ä½ ARM
android.archs = arm64-v8a
```

### æƒé™

```ini
# åº”ç”¨æƒé™ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰
android.permissions = INTERNET,WRITE_EXTERNAL_STORAGE

# å¸¸ç”¨æƒé™ï¼š
# INTERNET - ç½‘ç»œè®¿é—®
# CAMERA - ç›¸æœº
# WRITE_EXTERNAL_STORAGE - å†™å…¥å­˜å‚¨
# READ_EXTERNAL_STORAGE - è¯»å–å­˜å‚¨
# ACCESS_FINE_LOCATION - GPS å®šä½
```

---

## ğŸš€ æ„å»ºé…ç½®

### æ—¥å¿—çº§åˆ«

```ini
[buildozer]
# æ—¥å¿—çº§åˆ«
# 0 = åªæ˜¾ç¤ºé”™è¯¯
# 1 = æ˜¾ç¤ºè­¦å‘Š
# 2 = æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼ˆæ¨èè°ƒè¯•æ—¶ä½¿ç”¨ï¼‰
log_level = 2

# æ˜¯å¦åœ¨ root ç”¨æˆ·ä¸‹è­¦å‘Š
warn_on_root = 1
```

---

## ğŸ“‹ å®Œæ•´ç¤ºä¾‹

```ini
[app]
title = æˆ‘çš„åº”ç”¨
package.name = myapp
package.domain = com.myname
source.dir = .
source.include_exts = py,png,jpg,kv,atlas
version = 1.0
requirements = python3,kivy,requests
orientation = portrait
fullscreen = 0
icon.filename = %(source.dir)s/icon.png
android.permissions = INTERNET
android.api = 33
android.minapi = 21
android.ndk = 25b
android.archs = arm64-v8a
android.accept_sdk_license = True

[buildozer]
log_level = 2
warn_on_root = 1
```

---

## ğŸ’¡ å¸¸ç”¨é…ç½®åœºæ™¯

### åœºæ™¯ 1ï¼šç®€å•åº”ç”¨ï¼ˆæ— ç½‘ç»œï¼‰

```ini
requirements = python3,kivy
android.permissions = 
```

### åœºæ™¯ 2ï¼šéœ€è¦ç½‘ç»œçš„åº”ç”¨

```ini
requirements = python3,kivy,requests
android.permissions = INTERNET
```

### åœºæ™¯ 3ï¼šéœ€è¦å­˜å‚¨çš„åº”ç”¨

```ini
requirements = python3,kivy
android.permissions = WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE
```

### åœºæ™¯ 4ï¼šç›¸æœºåº”ç”¨

```ini
requirements = python3,kivy
android.permissions = CAMERA,WRITE_EXTERNAL_STORAGE
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åŒ…åè§„åˆ™**ï¼š
   - åªèƒ½åŒ…å«å°å†™å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿
   - ä¸èƒ½ä»¥æ•°å­—å¼€å¤´
   - å»ºè®®æ ¼å¼ï¼š`com.yourname.appname`

2. **ç‰ˆæœ¬å·**ï¼š
   - æ¯æ¬¡æ›´æ–°å¿…é¡»é€’å¢ `version.code`
   - `version` æ˜¯æ˜¾ç¤ºç»™ç”¨æˆ·çœ‹çš„

3. **æƒé™**ï¼š
   - åªç”³è¯·å¿…éœ€çš„æƒé™
   - è¿‡å¤šæƒé™ä¼šè®©ç”¨æˆ·ä¸ä¿¡ä»»

4. **ä¾èµ–**ï¼š
   - ä¸æ˜¯æ‰€æœ‰ Python åº“éƒ½æ”¯æŒ Android
   - æµ‹è¯•å‰å…ˆç¡®è®¤åº“çš„å…¼å®¹æ€§

---

## ğŸ”— å‚è€ƒèµ„æº

- [Buildozer å®˜æ–¹æ–‡æ¡£](https://buildozer.readthedocs.io/)
- [Android æƒé™åˆ—è¡¨](https://developer.android.com/reference/android/Manifest.permission)
- [Kivy æ–‡æ¡£](https://kivy.org/doc/stable/)
